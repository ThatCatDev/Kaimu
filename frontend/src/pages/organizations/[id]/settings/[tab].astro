---
import Layout from '../../../../layouts/Layout.astro';
import AppShell from '../../../../components/AppShell.svelte';
import OrganizationSettings from '../../../../components/OrganizationSettings.svelte';

export const prerender = false;

const { id, tab } = Astro.params;

// Validate tab parameter
const validTabs = ['members', 'roles', 'activity'];
if (!validTabs.includes(tab!)) {
  return Astro.redirect(`/organizations/${id}/settings/members`);
}
---

<Layout title="Organization Settings - Kaimu">
  <AppShell client:load currentPath={`/organizations/${id}/settings/${tab}`}>
    <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
      <OrganizationSettings client:load organizationId={id!} initialTab={tab!} />
    </div>
  </AppShell>
</Layout>
